(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(47),o=a.n(c),l=(a(63),a(18)),i=a(15),s=a(16),u=a(19),p=a(17),h=a(20),d=a(110),m=a(115),f=a(112),E=a(11),v=a(107),y=a(108),g="FETCH_GIT_REPO",b="FETCH_GIT_REPO_SUCCSESS",O="FETCH_GIT_REPO_FAIL",S="FETCH_FORK_COUNT_SUCCESS",R="FETCH_FORK_COUNT_SUCCESS",j="https://api.github.com/repos",T=function(e){return function(t){var a="".concat(j,"/").concat(e.name,"/forks?page=").concat(e.page),n="".concat(j,"/").concat(e.name);t({type:g,payload:null}),fetch(n).then(function(e){return e.json()}).then(function(e){fetch(a).then(function(e){return e.json()}).then(function(e){return t({type:b,payload:e})}).catch(function(e){return t({type:O,payload:e})}),t({type:S,payload:e})}).catch(function(e){return t({type:R,payload:e})})}},_=a(105),w=a(114),I=a(111),G=a(106),C=function(e){var t=e.inputHandler,a=e.inputValue;return r.a.createElement(_.a,{inline:!0},r.a.createElement(w.a,null,r.a.createElement(I.a,{className:"search-form-input",type:"text",placeholder:"Type repository name here...",onChange:t,value:a})),r.a.createElement(G.a,{onClick:function(){var t=e.searchRepo,a=e.redirect,n=e.inputValue;n.length<=0||(t({name:n}),a&&a(n))}},"Search"))},k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).inputHandler=function(e){a.setState({searchInputText:e.target.value})},a.redirectToResult=function(e){a.props.history.push("/result?page=1repository=".concat(e))},a.state={searchInputText:""},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.searchRepo,t=this.state.searchInputText;return r.a.createElement(v.a,null,r.a.createElement("div",null,r.a.createElement(y.a,null,r.a.createElement("h1",null,"WebTouch test assign"),r.a.createElement("p",null,"This is a simple service for searching repositories forks on GitHub"),r.a.createElement("div",null,r.a.createElement(C,{redirect:this.redirectToResult,searchRepo:e.initSearch,inputHandler:this.inputHandler,inputValue:t})))))}}]),t}(n.Component),N=Object(l.b)(function(e){return{searchResult:e.appState.searchResult}},function(e){return{dispatch:e,searchRepo:Object(E.b)({initSearch:T},e)}})(k),F=a(113),H=function(e){return r.a.createElement("div",null,r.a.createElement(F.a,{bsSize:"medium"},function(){var t=e.totalItems,a=e.redirectToPage,n=e.activePage,c=t>30?(t/30).toFixed():null,o=[];if(c)for(var l=function(e){o.push(r.a.createElement(F.a.Item,{key:e,active:n===e,onClick:function(){a(e)}},e))},i=1;i<=c;i++)l(i);return o}()))},x=a(109),P=a(99),J=function(e){var t=e.searchResult,a=e.favorites,n=e.addToFavorites;return Array.isArray(t.payload)?r.a.createElement(x.a,{striped:!0,bordered:!0,condensed:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Owner"),r.a.createElement("th",null,"Starts"),r.a.createElement("th",null,"Fork link"),r.a.createElement("th",null,"Favorites"))),r.a.createElement("tbody",null,Array.isArray(t.payload)&&t.payload.map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.owner.login),r.a.createElement("td",null,e.stargazers_count),r.a.createElement("td",null,r.a.createElement("a",{href:e.html_url},e.html_url),r.a.createElement(G.a,{onClick:function(){n(e)},className:"table-add-to-favorites",bsStyle:"primary",bsSize:"xsmall"},"add to favorites")),r.a.createElement("td",null,a.find(function(t){return t.id===e.id})?r.a.createElement(P.a,{glyph:"star"}):""))}))):r.a.createElement("p",null,"Nothing found, try to search something else")},A=function(e){var t=e.split("=");return{page:parseInt(t[1],10),name:t[2]}},U=function(){return r.a.createElement("div",{id:"fountainG"},r.a.createElement("div",{id:"fountainG_1",className:"fountainG"}),r.a.createElement("div",{id:"fountainG_2",className:"fountainG"}),r.a.createElement("div",{id:"fountainG_3",className:"fountainG"}),r.a.createElement("div",{id:"fountainG_4",className:"fountainG"}),r.a.createElement("div",{id:"fountainG_5",className:"fountainG"}),r.a.createElement("div",{id:"fountainG_6",className:"fountainG"}),r.a.createElement("div",{id:"fountainG_7",className:"fountainG"}),r.a.createElement("div",{id:"fountainG_8",className:"fountainG"}))},V=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).inputHandler=function(e){a.setState({searchInputText:e.target.value})},a.redirectToResult=function(e){a.props.history.push("/result?page=1repository=".concat(e))},a.redirectToPage=function(e){var t=a.props,n=t.history,r=t.searchRepo,c=t.location,o=a.state.searchInputText||A(c.search).name;r.initSearch({name:o,page:e}),n.push("/result?page=".concat(e,"repository=").concat(o))},a.addToFavorites=function(e){if(!window.localStorage.getItem("favorites")){var t=[];t.push(e),window.localStorage.setItem("favorites",JSON.stringify(t))}var a=JSON.parse(window.localStorage.getItem("favorites"));a.find(function(t){return t.id===e.id})||(a.push(e),window.localStorage.setItem("favorites",JSON.stringify(a)))},a.state={searchInputText:""},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.location,a=e.searchRepo,n=e.searchResult;if(0===Object.keys(n).length&&n.constructor===Object&&"loading"!==n.status){var r=A(t.search);a.initSearch({name:r.name,page:r.page})}}},{key:"render",value:function(){var e=this.props,t=e.searchResult,a=e.searchRepo,n=e.location,c=this.state.searchInputText,o=A(n.search).page,l=JSON.parse(window.localStorage.getItem("favorites"));return r.a.createElement(v.a,null,r.a.createElement(C,{redirect:this.redirectToResult,searchRepo:a.initSearch,inputHandler:this.inputHandler,inputValue:c}),t.payload?r.a.createElement("div",null,r.a.createElement(J,{searchResult:t,addToFavorites:this.addToFavorites,favorites:l}),r.a.createElement(H,{redirectToPage:this.redirectToPage,totalItems:t.totalItems,activePage:o})):r.a.createElement(U,null))}}]),t}(n.Component),W=Object(l.b)(function(e){return{searchResult:e.appState.searchResult}},function(e){return{dispatch:e,searchRepo:Object(E.b)({initSearch:T},e)}})(V),z=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(m.a,null,r.a.createElement(f.a,{path:"/",exact:!0,component:N}),r.a.createElement(f.a,{path:"/result",component:W})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=a(57),K=a(14),L={searchResult:{},totalItems:null,activePage:null},M=Object(E.c)({appState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(K.a)({},e,{searchResult:{status:"loading",payload:null}});case b:return Object(K.a)({},e,{searchResult:Object(K.a)({},e.searchResult,{status:"success",payload:t.payload})});case O:return Object(K.a)({},e,{searchResult:{status:"error",payload:null}});case S:return Object(K.a)({},e,{searchResult:Object(K.a)({},e.searchResult,{totalItems:t.payload.forks_count})});default:return e}}}),$=Object(E.d)(M,Object(E.a)(B.a));o.a.render(r.a.createElement(l.a,{store:$},r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},58:function(e,t,a){e.exports=a(103)},63:function(e,t,a){}},[[58,2,1]]]);
//# sourceMappingURL=main.1a117189.chunk.js.map